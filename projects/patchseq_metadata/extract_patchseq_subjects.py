#!/usr/bin/env python3
"""
Script to extract subject IDs from SmartSPIM filenames and create a CSV.
"""

import pandas as pd
import re

# Subject IDs extracted from the SmartSPIM filenames in the image
# Pattern: SmartSPIM_XXXXXX_YYYY-MM-DD where XXXXXX is the 6-digit subject ID
subject_ids = [
    "692912",  # SmartSPIM_692912_2023-1...
    "716946",  # SmartSPIM_716946_2024-0...
    "716947",  # SmartSPIM_716947_2024-...
    "716948",  # SmartSPIM_716948_2024-...
    "716949",  # SmartSPIM_716949_2024-...
    "716950",  # SmartSPIM_716950_2024-...
    "716951",  # SmartSPIM_716951_2024-...
    "725231",  # SmartSPIM_725231_2024-07-2...
    "725328",  # SmartSPIM_725328_2024-...
    "725329",  # SmartSPIM_725329_2024-...
    "728854",  # SmartSPIM_728854_2024-...
    "731907",  # SmartSPIM_731907_2024-...
    "737038",  # SmartSPIM_737038_2024-...
    "737042",  # SmartSPIM_737042_2024-...
    "744117",  # SmartSPIM_744117_2024-...
    "744119",  # SmartSPIM_744119_2024-0...
    "746041",  # SmartSPIM_746041_2024-...
    "746043",  # SmartSPIM_746043_2024...
    "746045",  # SmartSPIM_746045_2024-...
    "746046",  # SmartSPIM_746046_2024-...
    "751017",  # SmartSPIM_751017_2024-1...
    "751019",  # SmartSPIM_751019_2024-11...
    "751023",  # SmartSPIM_751023_2024-1...
    "751024",  # SmartSPIM_751024_2024-1...
    "751035",  # SmartSPIM_751035_2024-1...
    "755069",  # SmartSPIM_755069_2024-1...
    "755071",  # SmartSPIM_755071_2024-1...
    "755072",  # SmartSPIM_755072_2024-...
    "755073",  # SmartSPIM_755073_2024-...
    "755790",  # SmartSPIM_755790_2024-...
    "762196",  # SmartSPIM_762196_2024-...
    "762199",  # SmartSPIM_762199_2024-1...
]

# Create DataFrame
df = pd.DataFrame({"subject_id": subject_ids})

# Save to CSV
output_file = "patchseq_subject_ids.csv"
df.to_csv(output_file, index=False)

print(f"Created {output_file} with {len(subject_ids)} subject IDs")
print("\nSubject IDs extracted:")
for i, subject_id in enumerate(subject_ids, 1):
    print(f"  {i:2d}. {subject_id}")

print(f"\nTotal subjects: {len(subject_ids)}")
